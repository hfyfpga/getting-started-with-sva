\documentclass{beamer}
\usepackage{textcomp}

\usetheme{Warsaw}
\title{Getting started with SystemVerilog Assertions}
\author{Tudor Timi}
\institute{VerificationGentleman.com}
\date{April 15, 2020}
\begin{document}


\begin{frame}
\titlepage
\end{frame}


\begin{frame}{Introduction}
SystemVerilog assertions (SVAs) express temporal behavior

\begin{itemize}
 \item Compact
 \item Similar to regular expressions
\end{itemize}
\end{frame}


\begin{frame}{Top 6 essential SVA features}
\begin{itemize}
 \item Implication operator
 \item Delay operation
 \item Repetition operator
 \item Throughout operator
 \item Named properties and sequences
 \item Sequence.triggered
\end{itemize}
\end{frame}


\begin{frame}{Implication}
Overlapping implication:

\begin{semiverbatim}
antecedent |-> consequent
\end{semiverbatim}

\begin{itemize}
 \item If antecedent is 1, then consequent must be 1 as well
 \item If antecedent is 0, then consequent can have any value
\end{itemize}

\pause
Don't grant any requests while busy:
\begin{semiverbatim}
assert property (busy |-> !grant);
\end{semiverbatim}

\pause
New request while not busy is granted immediately:
\begin{semiverbatim}
assert property (req \&\& !busy |-> grant);
\end{semiverbatim}
\end{frame}


\begin{frame}[fragile]{Implication}
Overlapping implication using immediate assert:

\begin{semiverbatim}
always @(posedge clk)
  if (antecedent)
    assert (consequent);
\end{semiverbatim}
\end{frame}


\begin{frame}{Implication}
Non-overlapping implication:

\begin{semiverbatim}
antecedent |=> consequent
\end{semiverbatim}

\begin{itemize}
 \item If antecedent is 1, then in the next cycle consequent must be 1 as well
 \item If antecedent is 0, then consequent can have any value
\end{itemize}

\pause
Start working on granted requests:
\begin{semiverbatim}
assert property (req \&\& grant |=> busy);
\end{semiverbatim}
\end{frame}


\begin{frame}[fragile]{Implication}
Non-overlapping using immediate assert:

\begin{semiverbatim}
always @(posedge clk)
  if (\$past(antecedent))
    assert (consequent);
\end{semiverbatim}

\pause
\begin{alertblock}{Gotcha}
\$past(...) can be either 0 or 1 in the very first cycle \textrightarrow{} false negative
\end{alertblock}
\end{frame}


\begin{frame}[fragile]{Implication}
Non-overlapping using immediate assert (corrected):

\begin{semiverbatim}
always @(posedge clk)
  if (past_valid \&\& \$past(antecedent))
    assert (consequent);
\end{semiverbatim}

\begin{semiverbatim}
bit past_valid = 0;
always @(posedge clk)
  past_valid <= 1;
\end{semiverbatim}
\end{frame}


\begin{frame}{Delay}
One cycle

\begin{itemize}
 \item TODO Add code for concurrent
\end{itemize}

Mutliple cycles
\begin{itemize}
 \item TODO Add code for concurrent
\end{itemize}
\end{frame}


\begin{frame}{Delay}
One cycle - immediate

\begin{itemize}
 \item TODO Add code for immediate
\end{itemize}
\end{frame}


\begin{frame}{Delay}
Three cycles - immediate

\begin{itemize}
 \item TODO Add code for immediate
\end{itemize}
\end{frame}


\begin{frame}{Repetition}
Consecutive

\begin{itemize}
 \item TODO Add code for concurrent
\end{itemize}
\end{frame}


\begin{frame}{Repetition}
Consecutive

\begin{itemize}
 \item TODO Add code for immediate
\end{itemize}
\end{frame}


\begin{frame}{Repetition}
Goto

\begin{itemize}
 \item TODO Add code for concurrent
\end{itemize}
\end{frame}


\begin{frame}{Throughout}
\begin{itemize}
 \item TODO Add code for concurrent
\end{itemize}
\end{frame}


\begin{frame}{Throughout}
Discussion
\begin{itemize}
 \item TODO Add code for throughout as assume (No pipelining)
 \item TODO Add code for throughout as assert (No ready during first 5 cycles of operation)
\end{itemize}
\end{frame}


\begin{frame}{Named properties and sequences}
TODO Add notes about reuse
\end{frame}


\begin{frame}{Named properties and sequences}
Named property
\begin{itemize}
 \item TODO Add code
\end{itemize}
\end{frame}


\begin{frame}{Named properties and sequences}
Named sequence
\begin{itemize}
 \item TODO Add code
\end{itemize}
\end{frame}


\begin{frame}{Sequence.triggered}
\begin{itemize}
 \item TODO Add code
\end{itemize}
\end{frame}


\begin{frame}{Tips and tricks}
Split long sequences

\begin{itemize}
 \item Functions calling functions \textrightarrow{} sequences composed of sequences
\end{itemize}
\end{frame}


\begin{frame}{Tips and tricks}
Mulitple smaller assertions instead of one big assertion

\begin{itemize}
 \item Easier to write/read
 \item Easier to debug
 \item More difficult to reason about (all requirements?)
\end{itemize}
\end{frame}


\begin{frame}{Tips and tricks}
Check that properties work as expected

\begin{itemize}
 \item SVUnit
 \item Dream: test using SymbiYosys
\end{itemize}
\end{frame}


\begin{frame}{Tips and tricks}
Think about cause, not just effect

\begin{itemize}
 \item TODO Add code for implication in both directions
\end{itemize}
\end{frame}


\end{document}